module main

import hash.wyhash

test "wyhash gives the same results as the reference implementation with single parameter" {
	cases := [
		(0 as u64, 18027973888215709232 as u64),
		(1 as u64, 10365331905387889709 as u64),
		(2 as u64, 2978949319772725647 as u64),
		(3 as u64, 17854324162000059285 as u64),
		(4 as u64, 3745945073627937097 as u64),
		(5 as u64, 5723853356551811448 as u64),
		(6 as u64, 9753034906678749340 as u64),
		(7 as u64, 8156286728865404027 as u64),
		(8 as u64, 9031873951629390481 as u64),
		(9 as u64, 12201950463074991048 as u64),
		(10 as u64, 9961155238215355626 as u64),
		(11 as u64, 11611304704660032446 as u64),
		(12 as u64, 403428274593470301 as u64),
		(13 as u64, 9110145561795725692 as u64),
		(14 as u64, 15424832929623932143 as u64),
		(15 as u64, 12875419532317653589 as u64),
		(16 as u64, 3615724077030051714 as u64),
		(17 as u64, 12898103660197831172 as u64),
		(18 as u64, 4893178838919627807 as u64),
		(19 as u64, 15911161419778161722 as u64),
		(20 as u64, 9577969310319471987 as u64),
		(21 as u64, 1851854125902652323 as u64),
		(22 as u64, 2183785593615615539 as u64),
		(23 as u64, 6481865292715945294 as u64),
		(24 as u64, 11317599033818215811 as u64),
		(25 as u64, 10497889130368735970 as u64),
		(26 as u64, 926889991530383729 as u64),
		(27 as u64, 1663560094017494435 as u64),
		(28 as u64, 15746048647452613245 as u64),
		(29 as u64, 6127217332097591883 as u64),
		(30 as u64, 5579601701852583854 as u64),
		(31 as u64, 1709533754932997893 as u64),
		(32 as u64, 13446701342239830008 as u64),
		(33 as u64, 5099942566683191189 as u64),
		(34 as u64, 12621416545073460654 as u64),
		(35 as u64, 7532142523042392493 as u64),
		(36 as u64, 2892997545378828282 as u64),
		(37 as u64, 15121434895515276863 as u64),
		(38 as u64, 8991013236112991839 as u64),
		(39 as u64, 14237027861133236381 as u64),
		(40 as u64, 14081055868284687350 as u64),
		(41 as u64, 13202995820675170437 as u64),
		(42 as u64, 10545362513271046074 as u64),
		(43 as u64, 12431613034697772033 as u64),
		(44 as u64, 866447121093971493 as u64),
		(45 as u64, 10679459047413493169 as u64),
		(46 as u64, 14223513695098279876 as u64),
		(47 as u64, 6312451713996897678 as u64),
		(48 as u64, 10423310766949602208 as u64),
		(49 as u64, 2259305396684008338 as u64),
		(50 as u64, 16000978827465481470 as u64),
		(51 as u64, 17156133319694298801 as u64),
		(52 as u64, 8295817798346410810 as u64),
		(53 as u64, 18296525153358751032 as u64),
		(54 as u64, 15021853261716235754 as u64),
		(55 as u64, 12743585845085957660 as u64),
		(56 as u64, 9078080203983774261 as u64),
		(57 as u64, 5992120358922485349 as u64),
		(58 as u64, 17664633595783387848 as u64),
		(59 as u64, 12570096638615340611 as u64),
		(60 as u64, 16718522984950109308 as u64),
		(61 as u64, 7902787586846089713 as u64),
		(62 as u64, 8838855524865549701 as u64),
		(63 as u64, 10445110121444045611 as u64),
		(64 as u64, 8909037843119634809 as u64),
		(65 as u64, 2630068626306844916 as u64),
		(66 as u64, 7850051900562893676 as u64),
		(67 as u64, 16324764152976901356 as u64),
		(68 as u64, 12413856515427716685 as u64),
		(69 as u64, 16884632035939214253 as u64),
		(70 as u64, 18016442727911738680 as u64),
		(71 as u64, 17926891258883027608 as u64),
		(72 as u64, 7864090133066633383 as u64),
		(73 as u64, 8214487786287999293 as u64),
		(74 as u64, 7602047716956465309 as u64),
		(75 as u64, 6210783576445576996 as u64),
		(76 as u64, 9239371938084544225 as u64),
		(77 as u64, 4206920481385333725 as u64),
		(78 as u64, 9116454676205639472 as u64),
		(79 as u64, 875104078369476116 as u64),
		(80 as u64, 16045126707004809701 as u64),
		(81 as u64, 11850460956355240870 as u64),
		(82 as u64, 13639431805937063944 as u64),
		(83 as u64, 4237188834607165609 as u64),
		(84 as u64, 4883502838420756613 as u64),
		(85 as u64, 12067454830859281113 as u64),
		(86 as u64, 15168278361517006147 as u64),
		(87 as u64, 12620096197279265700 as u64),
		(88 as u64, 3053035426189389779 as u64),
		(89 as u64, 10921701165215320922 as u64),
		(90 as u64, 5012093632964423875 as u64),
		(91 as u64, 7679454159376304694 as u64),
		(92 as u64, 16653059289830789588 as u64),
		(93 as u64, 14516756253263387798 as u64),
		(94 as u64, 9815195753866333196 as u64),
		(95 as u64, 793821811574653223 as u64),
		(96 as u64, 2236252047072020577 as u64),
		(97 as u64, 8934727085231771140 as u64),
		(98 as u64, 1115155267429279832 as u64),
		(99 as u64, 1715671247240216886 as u64),
		(18446744073709551515 as u64, 3334411724821839579 as u64),
		(18446744073709551516 as u64, 3786309715079541625 as u64),
		(18446744073709551517 as u64, 9944123172942468678 as u64),
		(18446744073709551518 as u64, 17719972553636813190 as u64),
		(18446744073709551519 as u64, 10364863720842803312 as u64),
		(18446744073709551520 as u64, 363881516020246292 as u64),
		(18446744073709551521 as u64, 4908809348914789635 as u64),
		(18446744073709551522 as u64, 16257856994421713474 as u64),
		(18446744073709551523 as u64, 2167199511728572478 as u64),
		(18446744073709551524 as u64, 12369401249628605006 as u64),
		(18446744073709551525 as u64, 429525221848334408 as u64),
		(18446744073709551526 as u64, 9992376679618874758 as u64),
		(18446744073709551527 as u64, 11062193723300654219 as u64),
		(18446744073709551528 as u64, 10943972763252426606 as u64),
		(18446744073709551529 as u64, 261772049006519166 as u64),
		(18446744073709551530 as u64, 10365196056917655413 as u64),
		(18446744073709551531 as u64, 10810737239427219896 as u64),
		(18446744073709551532 as u64, 12462526480187356092 as u64),
		(18446744073709551533 as u64, 11721164899244300123 as u64),
		(18446744073709551534 as u64, 12549548883422670535 as u64),
		(18446744073709551535 as u64, 5175636961086666732 as u64),
		(18446744073709551536 as u64, 3400138100095791034 as u64),
		(18446744073709551537 as u64, 3501110707696753835 as u64),
		(18446744073709551538 as u64, 9507629916493604197 as u64),
		(18446744073709551539 as u64, 7457511095401846913 as u64),
		(18446744073709551540 as u64, 12566182171314191286 as u64),
		(18446744073709551541 as u64, 12038785430609818462 as u64),
		(18446744073709551542 as u64, 6117441726959614895 as u64),
		(18446744073709551543 as u64, 15602727365306073314 as u64),
		(18446744073709551544 as u64, 1695472732752043865 as u64),
		(18446744073709551545 as u64, 1341711144255798968 as u64),
		(18446744073709551546 as u64, 11930570851349952226 as u64),
		(18446744073709551547 as u64, 4831215429010932923 as u64),
		(18446744073709551548 as u64, 10673719567257897845 as u64),
		(18446744073709551549 as u64, 12079390759796338419 as u64),
		(18446744073709551550 as u64, 1960386649307693437 as u64),
		(18446744073709551551 as u64, 1648547924318194243 as u64),
		(18446744073709551552 as u64, 4467093670012280463 as u64),
		(18446744073709551553 as u64, 8549619121102364711 as u64),
		(18446744073709551554 as u64, 11012662147238790706 as u64),
		(18446744073709551555 as u64, 7458237848837046905 as u64),
		(18446744073709551556 as u64, 15649812575934198736 as u64),
		(18446744073709551557 as u64, 3742734823300863 as u64),
		(18446744073709551558 as u64, 18440804491484231921 as u64),
		(18446744073709551559 as u64, 4614457034741676877 as u64),
		(18446744073709551560 as u64, 12154190053292308162 as u64),
		(18446744073709551561 as u64, 879990670362927373 as u64),
		(18446744073709551562 as u64, 12798576779674944821 as u64),
		(18446744073709551563 as u64, 556049532861046275 as u64),
		(18446744073709551564 as u64, 2840571468543579135 as u64),
		(18446744073709551565 as u64, 2926083999882006801 as u64),
		(18446744073709551566 as u64, 10166685360414325367 as u64),
		(18446744073709551567 as u64, 14675085756992517697 as u64),
		(18446744073709551568 as u64, 8391355018521392410 as u64),
		(18446744073709551569 as u64, 1953827790633607552 as u64),
		(18446744073709551570 as u64, 16341852890446903653 as u64),
		(18446744073709551571 as u64, 5515403030520755126 as u64),
		(18446744073709551572 as u64, 6813862092432754081 as u64),
		(18446744073709551573 as u64, 14716638653222987381 as u64),
		(18446744073709551574 as u64, 12345383831220047437 as u64),
		(18446744073709551575 as u64, 3994353329570169674 as u64),
		(18446744073709551576 as u64, 5316966425795952185 as u64),
		(18446744073709551577 as u64, 1327582183592565324 as u64),
		(18446744073709551578 as u64, 55075759445761054 as u64),
		(18446744073709551579 as u64, 4044183132175214684 as u64),
		(18446744073709551580 as u64, 1982319061644660079 as u64),
		(18446744073709551581 as u64, 18037195287753205072 as u64),
		(18446744073709551582 as u64, 15646303307091638304 as u64),
		(18446744073709551583 as u64, 8614271227873788188 as u64),
		(18446744073709551584 as u64, 8206300513718555578 as u64),
		(18446744073709551585 as u64, 14832740877877589281 as u64),
		(18446744073709551586 as u64, 3270764577301590388 as u64),
		(18446744073709551587 as u64, 4796392065934612534 as u64),
		(18446744073709551588 as u64, 2441900184834022816 as u64),
		(18446744073709551589 as u64, 17491648019939624040 as u64),
		(18446744073709551590 as u64, 7130135074576347947 as u64),
		(18446744073709551591 as u64, 1610325246901772221 as u64),
		(18446744073709551592 as u64, 14048019557630098243 as u64),
		(18446744073709551593 as u64, 14523497257020810183 as u64),
		(18446744073709551594 as u64, 17892418254892927983 as u64),
		(18446744073709551595 as u64, 3927888074914330074 as u64),
		(18446744073709551596 as u64, 9452729974890532659 as u64),
		(18446744073709551597 as u64, 1405534822676721565 as u64),
		(18446744073709551598 as u64, 12136478943724417035 as u64),
		(18446744073709551599 as u64, 5930708307421082955 as u64),
		(18446744073709551600 as u64, 270738887570869379 as u64),
		(18446744073709551601 as u64, 147696667663752205 as u64),
		(18446744073709551602 as u64, 15768998480715836268 as u64),
		(18446744073709551603 as u64, 3084523053936229497 as u64),
		(18446744073709551604 as u64, 5405660889336337198 as u64),
		(18446744073709551605 as u64, 9587482871762239758 as u64),
		(18446744073709551606 as u64, 10140657288470537091 as u64),
		(18446744073709551607 as u64, 13254617673994007289 as u64),
		(18446744073709551608 as u64, 2503382509994462061 as u64),
		(18446744073709551609 as u64, 14729141299255636962 as u64),
		(18446744073709551610 as u64, 6029532989142100342 as u64),
		(18446744073709551611 as u64, 16331497210356014345 as u64),
		(18446744073709551612 as u64, 2258494733952199308 as u64),
		(18446744073709551613 as u64, 13659604501608341087 as u64),
		(18446744073709551614 as u64, 14269099260756276150 as u64),
	]

	for case in cases {
		input, expected := case
		t.assert_eq(wyhash.wyhash64(input, 0), expected, "computed hash must must match the expected hash")
	}
}

test "wyhash gives the same results as the reference implementation with two parameters" {
	cases := [
		(0 as u64, 11044600953311404023 as u64),
		(1 as u64, 13541970309965402940 as u64),
		(2 as u64, 5308193077613343849 as u64),
		(3 as u64, 1026217583310869518 as u64),
		(4 as u64, 4640284075797724008 as u64),
		(5 as u64, 17785358397000309589 as u64),
		(6 as u64, 8628140662865447410 as u64),
		(7 as u64, 11415969889704461167 as u64),
		(8 as u64, 6730708819743609926 as u64),
		(9 as u64, 479298615711197221 as u64),
		(10 as u64, 11264111748957713974 as u64),
		(11 as u64, 9150781549056607406 as u64),
		(12 as u64, 9788066422821032762 as u64),
		(13 as u64, 17175675429801830364 as u64),
		(14 as u64, 6586470604799050703 as u64),
		(15 as u64, 11043769396564484259 as u64),
		(16 as u64, 14438587838269733303 as u64),
		(17 as u64, 1993935249113603826 as u64),
		(18 as u64, 1341051926127553285 as u64),
		(19 as u64, 7404038925020004610 as u64),
		(20 as u64, 2121940111772642850 as u64),
		(21 as u64, 8855168798322769283 as u64),
		(22 as u64, 15100085784649351922 as u64),
		(23 as u64, 1164389285794033572 as u64),
		(24 as u64, 11744436386701249899 as u64),
		(25 as u64, 11191120299841965663 as u64),
		(26 as u64, 14344417104478597730 as u64),
		(27 as u64, 646554180046352048 as u64),
		(28 as u64, 3837213228609157378 as u64),
		(29 as u64, 14115190614022088775 as u64),
		(30 as u64, 16525095113819262757 as u64),
		(31 as u64, 13468922128629041998 as u64),
		(32 as u64, 10369532864779791040 as u64),
		(33 as u64, 1759359611409416861 as u64),
		(34 as u64, 1943124894633967845 as u64),
		(35 as u64, 3717701318119575175 as u64),
		(36 as u64, 16757600543548660676 as u64),
		(37 as u64, 17158402253587721213 as u64),
		(38 as u64, 18272995060313245692 as u64),
		(39 as u64, 4276007285520486255 as u64),
		(40 as u64, 4513621892992640727 as u64),
		(41 as u64, 17362403025159776803 as u64),
		(42 as u64, 15554974841963638709 as u64),
		(43 as u64, 11695720097582566618 as u64),
		(44 as u64, 17888765847307941314 as u64),
		(45 as u64, 17325092221651862847 as u64),
		(46 as u64, 17287994563129107571 as u64),
		(47 as u64, 16004051178879948336 as u64),
		(48 as u64, 435167584772142892 as u64),
		(49 as u64, 14685477711087272205 as u64),
		(50 as u64, 9589804021660343971 as u64),
		(51 as u64, 8733192824880849719 as u64),
		(52 as u64, 12887095474607823494 as u64),
		(53 as u64, 14996065655312584293 as u64),
		(54 as u64, 9093626712489061052 as u64),
		(55 as u64, 9390488939447459760 as u64),
		(56 as u64, 8294662732898479315 as u64),
		(57 as u64, 17679605133012039677 as u64),
		(58 as u64, 18308417470785613589 as u64),
		(59 as u64, 9001521899282912876 as u64),
		(60 as u64, 9051358138228729288 as u64),
		(61 as u64, 13855169940115173095 as u64),
		(62 as u64, 8390983336823390977 as u64),
		(63 as u64, 7416028891616790168 as u64),
		(64 as u64, 7215579750309395154 as u64),
		(65 as u64, 6601311265632566708 as u64),
		(66 as u64, 18308470117790498246 as u64),
		(67 as u64, 14619196811248255018 as u64),
		(68 as u64, 13683317315479583003 as u64),
		(69 as u64, 11547008665759898841 as u64),
		(70 as u64, 14300568679543229221 as u64),
		(71 as u64, 13388265712990207819 as u64),
		(72 as u64, 12163272022513298354 as u64),
		(73 as u64, 3516927292893692014 as u64),
		(74 as u64, 10482489305102249647 as u64),
		(75 as u64, 1734876500688716578 as u64),
		(76 as u64, 5817956631446044450 as u64),
		(77 as u64, 10497709118908481368 as u64),
		(78 as u64, 6358601910502536656 as u64),
		(79 as u64, 476396153773895168 as u64),
		(80 as u64, 15995484461084066684 as u64),
		(81 as u64, 15059339276287745220 as u64),
		(82 as u64, 5280063123356641052 as u64),
		(83 as u64, 8021608138628252502 as u64),
		(84 as u64, 4395353765829578779 as u64),
		(85 as u64, 10242136843874909669 as u64),
		(86 as u64, 2380730639679616454 as u64),
		(87 as u64, 5379262011197964284 as u64),
		(88 as u64, 5570257129634901429 as u64),
		(89 as u64, 6941360194899556283 as u64),
		(90 as u64, 11189634947877959990 as u64),
		(91 as u64, 4801359471035538019 as u64),
		(92 as u64, 18025102116887994862 as u64),
		(93 as u64, 8805666109410767950 as u64),
		(94 as u64, 10224881613489659852 as u64),
		(95 as u64, 9439683676065097909 as u64),
		(96 as u64, 17847942909733964071 as u64),
		(97 as u64, 7062762405616701848 as u64),
		(98 as u64, 15767577162218398059 as u64),
		(99 as u64, 7229687148539800451 as u64),
		(18446744073709551515 as u64, 17319770830309304890 as u64),
		(18446744073709551516 as u64, 5528693800087282584 as u64),
		(18446744073709551517 as u64, 9070003367707708828 as u64),
		(18446744073709551518 as u64, 653978973865323219 as u64),
		(18446744073709551519 as u64, 13784427354470947211 as u64),
		(18446744073709551520 as u64, 15510733840752465600 as u64),
		(18446744073709551521 as u64, 7600975005841726201 as u64),
		(18446744073709551522 as u64, 14760032220236854094 as u64),
		(18446744073709551523 as u64, 11091046523746149235 as u64),
		(18446744073709551524 as u64, 17861477565474498775 as u64),
		(18446744073709551525 as u64, 1848952301680638185 as u64),
		(18446744073709551526 as u64, 2755012738359235547 as u64),
		(18446744073709551527 as u64, 16105716680162789767 as u64),
		(18446744073709551528 as u64, 3741675931829241337 as u64),
		(18446744073709551529 as u64, 8175896733391980495 as u64),
		(18446744073709551530 as u64, 17953077323751324598 as u64),
		(18446744073709551531 as u64, 13380290343444613448 as u64),
		(18446744073709551532 as u64, 14564742872433740135 as u64),
		(18446744073709551533 as u64, 15539305483815525668 as u64),
		(18446744073709551534 as u64, 10581648804847198244 as u64),
		(18446744073709551535 as u64, 6208949115384938820 as u64),
		(18446744073709551536 as u64, 96758170964020074 as u64),
		(18446744073709551537 as u64, 15679353063661570527 as u64),
		(18446744073709551538 as u64, 13359558012156467811 as u64),
		(18446744073709551539 as u64, 2546385343270029220 as u64),
		(18446744073709551540 as u64, 13636755632340749434 as u64),
		(18446744073709551541 as u64, 630980552144938948 as u64),
		(18446744073709551542 as u64, 11705635752755843591 as u64),
		(18446744073709551543 as u64, 17791434790524833410 as u64),
		(18446744073709551544 as u64, 16378473416370763182 as u64),
		(18446744073709551545 as u64, 8310153086686942996 as u64),
		(18446744073709551546 as u64, 16147614610085611805 as u64),
		(18446744073709551547 as u64, 15345730134976975720 as u64),
		(18446744073709551548 as u64, 6620478011905831777 as u64),
		(18446744073709551549 as u64, 9707379384875765310 as u64),
		(18446744073709551550 as u64, 13633410717175678330 as u64),
		(18446744073709551551 as u64, 15034466512744293201 as u64),
		(18446744073709551552 as u64, 15138786753468158844 as u64),
		(18446744073709551553 as u64, 2822181147443489000 as u64),
		(18446744073709551554 as u64, 8705723343993634214 as u64),
		(18446744073709551555 as u64, 16834090627171547429 as u64),
		(18446744073709551556 as u64, 6958023777943659337 as u64),
		(18446744073709551557 as u64, 320730528086049220 as u64),
		(18446744073709551558 as u64, 16094154404198797264 as u64),
		(18446744073709551559 as u64, 8046268893438011132 as u64),
		(18446744073709551560 as u64, 3421190990628830265 as u64),
		(18446744073709551561 as u64, 12779539462423506179 as u64),
		(18446744073709551562 as u64, 1987909673591659414 as u64),
		(18446744073709551563 as u64, 11524939731919275389 as u64),
		(18446744073709551564 as u64, 11626021402048601263 as u64),
		(18446744073709551565 as u64, 10719910981969758359 as u64),
		(18446744073709551566 as u64, 18199060989861223248 as u64),
		(18446744073709551567 as u64, 13941152069843976070 as u64),
		(18446744073709551568 as u64, 17993909058140317402 as u64),
		(18446744073709551569 as u64, 12231758649401684247 as u64),
		(18446744073709551570 as u64, 3407446883120683261 as u64),
		(18446744073709551571 as u64, 13009395624417824467 as u64),
		(18446744073709551572 as u64, 799265033951758988 as u64),
		(18446744073709551573 as u64, 158962817142697843 as u64),
		(18446744073709551574 as u64, 13600954140600734117 as u64),
		(18446744073709551575 as u64, 3645149667244270013 as u64),
		(18446744073709551576 as u64, 18069498171181932098 as u64),
		(18446744073709551577 as u64, 13120849684072272425 as u64),
		(18446744073709551578 as u64, 3644205360583159563 as u64),
		(18446744073709551579 as u64, 8432816055270050014 as u64),
		(18446744073709551580 as u64, 14750639558320224264 as u64),
		(18446744073709551581 as u64, 922548156882090866 as u64),
		(18446744073709551582 as u64, 8202057853504262023 as u64),
		(18446744073709551583 as u64, 161143123000829281 as u64),
		(18446744073709551584 as u64, 14908102322731090477 as u64),
		(18446744073709551585 as u64, 7857521286850701723 as u64),
		(18446744073709551586 as u64, 3099344161564589239 as u64),
		(18446744073709551587 as u64, 10050998398701412630 as u64),
		(18446744073709551588 as u64, 14935586019548549193 as u64),
		(18446744073709551589 as u64, 9203700980005600471 as u64),
		(18446744073709551590 as u64, 2481206010710067274 as u64),
		(18446744073709551591 as u64, 11595667125980991320 as u64),
		(18446744073709551592 as u64, 14156537328277941778 as u64),
		(18446744073709551593 as u64, 8325567744643838204 as u64),
		(18446744073709551594 as u64, 12515877874141046284 as u64),
		(18446744073709551595 as u64, 15500774727154424674 as u64),
		(18446744073709551596 as u64, 6083539605145885903 as u64),
		(18446744073709551597 as u64, 15573992927309171520 as u64),
		(18446744073709551598 as u64, 10520159888833694241 as u64),
		(18446744073709551599 as u64, 1995283202501254162 as u64),
		(18446744073709551600 as u64, 11194232025577183403 as u64),
		(18446744073709551601 as u64, 533352283917860654 as u64),
		(18446744073709551602 as u64, 15416545924609712251 as u64),
		(18446744073709551603 as u64, 16570203422043852480 as u64),
		(18446744073709551604 as u64, 7781187338072321216 as u64),
		(18446744073709551605 as u64, 12729053822154180288 as u64),
		(18446744073709551606 as u64, 17924380990827328004 as u64),
		(18446744073709551607 as u64, 2131302190236917945 as u64),
		(18446744073709551608 as u64, 2877078133685577688 as u64),
		(18446744073709551609 as u64, 18262288661231241128 as u64),
		(18446744073709551610 as u64, 6864251117371178415 as u64),
		(18446744073709551611 as u64, 11651220934437445353 as u64),
		(18446744073709551612 as u64, 8936649109377413518 as u64),
		(18446744073709551613 as u64, 9444903303256150 as u64),
		(18446744073709551614 as u64, 1001677133234408907 as u64),
	]

	for case in cases {
		input, expected := case
		b := if input < 100 { input + 10 } else { input - 10 }

		t.assert_eq(wyhash.wyhash64(input, b), expected, "computed hash must must match the expected hash")
	}
}
